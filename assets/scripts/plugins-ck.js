// usage: log('inside coolFunc', this, arguments);
// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){var b=arguments,c;b.callee=b.callee.caller;c=[].slice.call(b);typeof console.log=="object"?log.apply.call(console.log,console,c):console.log.apply(console,c)}};(function(a){function b(){}for(var c="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),d;!!(d=c.pop());)a[d]=a[d]||b})(function(){try{console.log();return window.console}catch(a){return window.console={}}}());(function(a){function c(a){return typeof a=="object"?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,e){a(window).scrollTo(b,c,e)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1};b.window=function(b){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var e=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||e.compatMode=="BackCompat"?e.body:e.documentElement})};a.fn.scrollTo=function(e,f,g){if(typeof f=="object"){g=f;f=0}typeof g=="function"&&(g={onAfter:g});e=="max"&&(e=9e9);g=a.extend({},b.defaults,g);f=f||g.speed||g.duration;g.queue=g.queue&&g.axis.length>1;g.queue&&(f/=2);g.offset=c(g.offset);g.over=c(g.over);return this._scrollable().each(function(){function r(a){i.animate(o,f,g.easing,a&&function(){a.call(this,e,g)})}var h=this,i=a(h),l=e,m,o={},q=i.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(l)){l=c(l);break}l=a(l,this);case"object":if(l.is||l.style)m=(l=a(l)).offset()}a.each(g.axis.split(""),function(a,c){var d=c=="x"?"Left":"Top",e=d.toLowerCase(),f="scroll"+d,j=h[f],n=b.max(h,c);if(m){o[f]=m[e]+(q?0:j-i.offset()[e]);if(g.margin){o[f]-=parseInt(l.css("margin"+d))||0;o[f]-=parseInt(l.css("border"+d+"Width"))||0}o[f]+=g.offset[e]||0;g.over[e]&&(o[f]+=l[c=="x"?"width":"height"]()*g.over[e])}else{var p=l[e];o[f]=p.slice&&p.slice(-1)=="%"?parseFloat(p)/100*n:p}/^\d+$/.test(o[f])&&(o[f]=o[f]<=0?0:Math.min(o[f],n));if(!a&&g.queue){j!=o[f]&&r(g.onAfterFirst);delete o[f]}});r(g.onAfter)}).end()};b.max=function(b,c){var e=c=="x"?"Width":"Height",f="scroll"+e;if(!a(b).is("html,body"))return b[f]-a(b)[e.toLowerCase()]();var g="client"+e,h=b.ownerDocument.documentElement,i=b.ownerDocument.body;return Math.max(h[f],i[f])-Math.min(h[g],i[g])}})(jQuery);(function(a){function e(c){function n(){c?f.removeData(c):k&&delete b[k]}function o(){g.id=setTimeout(function(){g.fn()},l)}var e=this,f,g={},h=c?a.fn:a,i=arguments,j=4,k=i[1],l=i[2],m=i[3];if(typeof k!="string"){j--;k=c=0;l=i[1];m=i[2]}if(c){f=e.eq(0);f.data(c,g=f.data(c)||{})}else k&&(g=b[k]||(b[k]={}));g.id&&clearTimeout(g.id);delete g.id;if(m){g.fn=function(a){typeof m=="string"&&(m=h[m]);m.apply(e,d.call(i,j))===!0&&!a?o():n()};o()}else{if(g.fn){l===undefined?n():g.fn(l===!1);return!0}n()}}var b={},c="doTimeout",d=Array.prototype.slice;a[c]=function(){return e.apply(window,[0].concat(d.call(arguments)))};a.fn[c]=function(){var a=d.call(arguments),b=e.apply(this,[c+a[0]].concat(a));return typeof a[0]=="number"||typeof a[1]=="number"?this:b}})(jQuery);jQuery.extend({bez:function(a){var b="bez_"+$.makeArray(arguments).join("_").replace(".","p");if(typeof jQuery.easing[b]!="function"){var c=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){var b=a,c=0,d;while(++c<14){d=f(b,0)-a;if(Math.abs(d)<.001)break;b-=d/g(b)}return b};return function(a){return f(h(a),1)}};jQuery.easing[b]=function(b,d,e,f,g){return f*c([a[0],a[1]],[a[2],a[3]])(d/g)+e}}return b}});(function(a,b,c){function j(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var d="hashchange",e=document,f,g=a.event.special,h=e.documentMode,i="on"+d in b&&(h===c||h>7);a.fn[d]=function(a){return a?this.bind(d,a):this.trigger(d)};a.fn[d].delay=50;g[d]=a.extend(g[d],{setup:function(){if(i)return!1;a(f.start)},teardown:function(){if(i)return!1;a(f.stop)}});f=function(){function n(){var c=j(),e=m(h);if(c!==h){l(h=c,e);a(b).trigger(d)}else e!==h&&(location.href=location.href.replace(/#.*/,"")+e);g=setTimeout(n,a.fn[d].delay)}var f={},g,h=j(),k=function(a){return a},l=k,m=k;f.start=function(){g||n()};f.stop=function(){g&&clearTimeout(g);g=c};a.browser.msie&&!i&&function(){var b,c;f.start=function(){if(!b){c=a.fn[d].src;c=c&&c+j();b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||l(j());n()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow;e.onpropertychange=function(){try{event.propertyName==="title"&&(b.document.title=e.title)}catch(a){}}}};f.stop=k;m=function(){return j(b.location.href)};l=function(c,f){var g=b.document,h=a.fn[d].domain;if(c!==f){g.title=e.title;g.open();h&&g.write('<script>document.domain="'+h+'"</script>');g.close();b.location.hash=c}}}();return f}()})(jQuery,this);(function(a,b,c,d,e){var f=a(d),g="waypoint.reached",h=function(a,c){a.element.trigger(g,c);a.options.triggerOnce&&a.element[b]("destroy")},i=function(a,b){var c=b.waypoints.length-1;while(c>=0&&b.waypoints[c].element[0]!==a[0])c-=1;return c},j=[],k=function(b){a.extend(this,{element:a(b),oldScroll:0,waypoints:[],didScroll:!1,didResize:!1,doScroll:a.proxy(function(){var b=this.element.scrollTop(),d=b>this.oldScroll,e=this,f=a.grep(this.waypoints,function(a,c){return d?a.offset>e.oldScroll&&a.offset<=b:a.offset<=e.oldScroll&&a.offset>b}),g=f.length;(!this.oldScroll||!b)&&a[c]("refresh");this.oldScroll=b;if(!g)return;d||f.reverse();a.each(f,function(a,b){(b.options.continuous||a===g-1)&&h(b,[d?"down":"up"])})},this)});a(b).scroll(a.proxy(function(){if(!this.didScroll){this.didScroll=!0;d.setTimeout(a.proxy(function(){this.doScroll();this.didScroll=!1},this),a[c].settings.scrollThrottle)}},this)).resize(a.proxy(function(){if(!this.didResize){this.didResize=!0;d.setTimeout(a.proxy(function(){a[c]("refresh");this.didResize=!1},this),a[c].settings.resizeThrottle)}},this));f.load(a.proxy(function(){this.doScroll()},this))},l=function(b){var c=null;a.each(j,function(a,d){if(d.element[0]===b){c=d;return!1}});return c},m={init:function(d,e){this.each(function(){var f=a.fn[b].defaults.context,h,m=a(this);e&&e.context&&(f=e.context);a.isWindow(f)||(f=m.closest(f)[0]);h=l(f);if(!h){h=new k(f);j.push(h)}var n=i(m,h),p=n<0?a.fn[b].defaults:h.waypoints[n].options,q=a.extend({},p,e);q.offset=q.offset==="bottom-in-view"?function(){var b=a.isWindow(f)?a[c]("viewportHeight"):a(f).height();return b-a(this).outerHeight()}:q.offset;n<0?h.waypoints.push({element:m,offset:null,options:q}):h.waypoints[n].options=q;d&&m.bind(g,d);e&&e.handler&&m.bind(g,e.handler)});a[c]("refresh");return this},remove:function(){return this.each(function(b,c){var d=a(c);a.each(j,function(a,b){var c=i(d,b);c>=0&&b.waypoints.splice(c,1)})})},destroy:function(){return this.unbind(g)[b]("remove")}},n={refresh:function(){a.each(j,function(b,d){var e=a.isWindow(d.element[0]),f=e?0:d.element.offset().top,g=e?a[c]("viewportHeight"):d.element.height(),i=e?0:d.element.scrollTop();a.each(d.waypoints,function(a,b){if(!b)return;var c=b.options.offset,e=b.offset;if(typeof b.options.offset=="function")c=b.options.offset.apply(b.element);else if(typeof b.options.offset=="string"){var j=parseFloat(b.options.offset);c=b.options.offset.indexOf("%")?Math.ceil(g*(j/100)):j}b.offset=b.element.offset().top-f+i-c;if(b.options.onlyOnScroll)return;e!==null&&d.oldScroll>e&&d.oldScroll<=b.offset?h(b,["up"]):e!==null&&d.oldScroll<e&&d.oldScroll>=b.offset?h(b,["down"]):!e&&i>b.offset&&h(b,["down"])});d.waypoints.sort(function(a,b){return a.offset-b.offset})})},viewportHeight:function(){return d.innerHeight?d.innerHeight:f.height()},aggregate:function(){var b=a();a.each(j,function(c,d){a.each(d.waypoints,function(a,c){b=b.add(c.element)})});return b}};a.fn[b]=function(c){if(m[c])return m[c].apply(this,Array.prototype.slice.call(arguments,1));if(typeof c=="function"||!c)return m.init.apply(this,arguments);if(typeof c=="object")return m.init.apply(this,[null,c]);a.error("Method "+c+" does not exist on jQuery "+b)};a.fn[b].defaults={continuous:!0,offset:0,triggerOnce:!1,context:d};a[c]=function(a){return n[a]?n[a].apply(this):n.aggregate()};a[c].settings={resizeThrottle:200,scrollThrottle:100};f.load(function(){a[c]("refresh")})})(jQuery,"waypoint","waypoints",this);(function(a){function b(a){var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1);if(a in k.style)return a;for(a=0;a<b.length;++a){var d=b[a]+c;if(d in k.style)return d}}function c(a){"string"==typeof a&&this.parse(a);return this}function d(a,b,c){!0===b?a.queue(c):b?a.queue(b,c):c()}function e(b){var c=[];a.each(b,function(b){b=a.camelCase(b);b=a.transit.propertyMap[b]||b;b=h(b);-1===a.inArray(b,c)&&c.push(b)});return c}function f(b,c,d,f){b=e(b);a.cssEase[d]&&(d=a.cssEase[d]);var g=""+j(c)+" "+d;0<parseInt(f,10)&&(g+=" "+j(f));var h=[];a.each(b,function(a,b){h.push(b+" "+g)});return h.join(", ")}function g(b,d){d||(a.cssNumber[b]=!0);a.transit.propertyMap[b]=l.transform;a.cssHooks[b]={get:function(d){return(a(d).css("transform")||new c).get(b)},set:function(d,e){var f=a(d).css("transform")||new c;f.setFromString(b,e);a(d).css({transform:f})}}}function h(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function i(a,b){return"string"==typeof a&&!a.match(/^[\-0-9\.]+$/)?a:""+a+b}function j(b){a.fx.speeds[b]&&(b=a.fx.speeds[b]);return i(b,"ms")}a.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var k=document.createElement("div"),l={},m=-1<navigator.userAgent.toLowerCase().indexOf("chrome");l.transition=b("transition");l.transitionDelay=b("transitionDelay");l.transform=b("transform");l.transformOrigin=b("transformOrigin");k.style[l.transform]="";k.style[l.transform]="rotateY(90deg)";l.transform3d=""!==k.style[l.transform];a.extend(a.support,l);var n=l.transitionEnd={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[l.transition]||null,k=null;a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"};a.cssHooks.transform={get:function(b){return a(b).data("transform")},set:function(b,d){var e=d;e instanceof c||(e=new c(e));b.style[l.transform]="WebkitTransform"===l.transform&&!m?e.toString(!0):e.toString();a(b).data("transform",e)}};a.cssHooks.transformOrigin={get:function(a){return a.style[l.transformOrigin]},set:function(a,b){a.style[l.transformOrigin]=b}};g("scale");g("translate");g("rotate");g("rotateX");g("rotateY");g("rotate3d");g("perspective");g("skewX");g("skewY");g("x",!0);g("y",!0);c.prototype={setFromString:function(a,b){var d="string"==typeof b?b.split(","):b.constructor===Array?b:[b];d.unshift(a);c.prototype.set.apply(this,d)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=i(a,"deg")},rotateX:function(a){this.rotateX=i(a,"deg")},rotateY:function(a){this.rotateY=i(a,"deg")},scale:function(a,b){void 0===b&&(b=a);this.scale=a+","+b},skewX:function(a){this.skewX=i(a,"deg")},skewY:function(a){this.skewY=i(a,"deg")},perspective:function(a){this.perspective=i(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0);void 0===this._translateY&&(this._translateY=0);null!==a&&(this._translateX=i(a,"px"));null!==b&&(this._translateY=i(b,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));a[1]&&(a[1]=parseFloat(a[1]));return a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));a[3]&&(a[3]=i(a[3],"deg"));return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[],c;for(c in this)this.hasOwnProperty(c)&&(l.transform3d||"rotateX"!==c&&"rotateY"!==c&&"perspective"!==c&&"transformOrigin"!==c)&&"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"));return b.join(" ")}};a.fn.transition=a.fn.transit=function(b,c,e,g){var h=this,i=0,k=!0;"function"==typeof c&&(g=c,c=void 0);"function"==typeof e&&(g=e,e=void 0);"undefined"!=typeof b.easing&&(e=b.easing,delete b.easing);"undefined"!=typeof b.duration&&(c=b.duration,delete b.duration);"undefined"!=typeof b.complete&&(g=b.complete,delete b.complete);"undefined"!=typeof b.queue&&(k=b.queue,delete b.queue);"undefined"!=typeof b.delay&&(i=b.delay,delete b.delay);"undefined"==typeof c&&(c=a.fx.speeds._default);"undefined"==typeof e&&(e=a.cssEase._default);var c=j(c),m=f(b,c,e,i),r=a.transit.enabled&&l.transition?parseInt(c,10)+parseInt(i,10):0;if(0===r)return d(h,k,function(a){h.css(b);g&&g();a()}),h;var s={},t=function(c){var d=!1,e=function(){d&&h.unbind(n,e);0<r&&h.each(function(){this.style[l.transition]=s[this]||null});"function"==typeof g&&g.apply(h);"function"==typeof c&&c()};0<r&&n&&a.transit.useTransitionEnd?(d=!0,h.bind(n,e)):window.setTimeout(e,r);h.each(function(){0<r&&(this.style[l.transition]=m);a(this).css(b)})};d(h,k,function(a){var b=0;"MozTransition"===l.transition&&25>b&&(b=25);window.setTimeout(function(){t(a)},b)});return this};a.transit.getTransitionValue=f})(jQuery);