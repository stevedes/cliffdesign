/* Author:
	Steve Urmston
*/(function(a,b,c){function h(b){if(!b.hash)return"";var c=a(b.hash);if(!c)return"";var d=c.closest(".noscroll");if(d.length){var e=c.closest(".scrollto");e.length&&e.html().length<=d.html().length&&(d="")}return!d.length&&(location.hostname==b.hostname||!b.hostname)&&location.pathname.replace(/^\//,"")==b.pathname.replace(/^\//,"")?c:""}"use strict";if(typeof jQuery=="undefined")return null;var d,e,f,g;g=new a.prototype.init(c);g.ready(function(){f=g.find("html");e=f.find("head");d=f.find("body");d.find("#scrollfix").height(a(b).height());a("#about, #portfolio, #services, #pipeline, #intro").waypoint(function(b,c){var d=a(this).attr("id");if(a('#top a[href*="'+d+'"]').hasClass("active")&&c==="down")return!0;a("#top a").removeClass("active");c==="down"?a('#top a[href*="'+d+'"]').addClass("active"):a('#top a[href*="'+d+'"]').parent().prev().find("a").addClass("active")},{continuous:!0,onlyOnScroll:!0,offset:"0"});a("#top a").click(function(d){var e=a(this),f=this,g=h(this);if(!d.isDefaultPrevented()){d.preventDefault();if(location.hash==f.hash)a(b).trigger("hashchange");else{var i=f.hash.substr(1),j=a("").css({visibility:"hidden",position:"fixed",top:"0px"}).attr("id",i).prependTo(c.body);g.attr("id","");location.hash=f.hash;j.remove();g.attr("id",i)}}});a(b).hashchange(function(c){var d=location,e=h(location);if(e.length){var f=location.hash,g=a(f).offset().top,i=a(b).scrollTop(),j=0;i>g?j=i-g:j=g-i;var k=150+j/1e3*150;a.scrollTo(g,k,{easing:a.bez([.14,.32,.79,1.04])})}});a(b).scrollTop()||a(b).trigger("hashchange")});return null})(jQuery,this,this.document);